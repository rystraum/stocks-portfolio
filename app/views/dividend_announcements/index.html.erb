<h1 class="text-3xl font-bold mb-4">Dividend Announcements</h1>

<%= form_tag(dividend_announcements_path, method: :get, class: "flex items-center mb-4") do %>
  <%= label_tag :ticker, "Ticker", class: "mr-2" %>
  <%= text_field_tag :ticker, params[:ticker], class: "px-4 py-2 border rounded-md" %>
  <%= submit_tag "Filter by Ticker", class: "ml-2 px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md" %>
<% end %>

<table class="table-auto w-full mb-4">
  <thead>
    <tr class="bg-gray-200">
      <th class="px-4 py-2">Company</th>
      <th class="px-4 py-2">Dividend Type</th>
      <th class="px-4 py-2">Amount</th>
      <th class="px-4 py-2">Ex Date</th>
      <th class="px-4 py-2">Record Date</th>
      <th class="px-4 py-2">Payout Date</th>
    </tr>
  </thead>
  <tbody>
    <% @dividend_announcements.each do |dividend_announcement| %>
      <tr class="<%= cycle('bg-white', 'bg-gray-100') %>">
        <td class="px-4 py-2"><%= dividend_announcement.company.ticker %></td>
        <td class="px-4 py-2"><%= dividend_announcement.dividend_type %></td>
        <td class="px-4 py-2"><%= number_with_precision(dividend_announcement.amount, precision: 4) %></td>
        <td class="px-4 py-2"><%= dividend_announcement.ex_date %></td>
        <td class="px-4 py-2"><%= dividend_announcement.record_date %></td>
        <td class="px-4 py-2"><%= dividend_announcement.payout_date %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate @dividend_announcements, class: "flex items-center justify-center" %>
